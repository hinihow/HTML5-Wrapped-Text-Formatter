var $jscomp={scope:{},findInternal:function(b,a,c){b instanceof String&&(b=String(b));for(var d=b.length,e=0;e<d;e++){var g=b[e];if(a.call(c,g,e,b))return{i:e,v:g}}return{i:-1,v:void 0}}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(b,a,c){if(c.get||c.set)throw new TypeError("ES3 does not support getters and setters.");b!=Array.prototype&&b!=Object.prototype&&(b[a]=c.value)};
$jscomp.getGlobal=function(b){return"undefined"!=typeof window&&window===b?b:"undefined"!=typeof global&&null!=global?global:b};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(b,a,c,d){if(a){c=$jscomp.global;b=b.split(".");for(d=0;d<b.length-1;d++){var e=b[d];e in c||(c[e]={});c=c[e]}b=b[b.length-1];d=c[b];a=a(d);a!=d&&null!=a&&$jscomp.defineProperty(c,b,{configurable:!0,writable:!0,value:a})}};
$jscomp.polyfill("Array.prototype.find",function(b){return b?b:function(a,b){return $jscomp.findInternal(this,a,b).v}},"es6-impl","es3");
var DEBUG=!1,submitToGoogleTrans=function(b){try{var a=b.source.value,a=a.trim();if(""===a)return!1;do a=a.split("  ").join(" ");while(-1<a.indexOf("  "));do a=a.split("\t").join(" ");while(-1<a.indexOf("\t"));b.replace_fulltype.checked&&(a=a.split("\u2019").join("'"),a=a.split("\u201d").join('""'),a=a.split("\u201c").join('""'));if(b.trim_dash.checked){for(;-1<a.indexOf(" \n");)a=a.split(" \n").join("\n");a=a.split("-\n").join("")}b.trim_nl.checked&&(a=a.replace(/\n[\u4e00-\u9fa5]/g,function(a){return a.split("\n").join("")}),
a=a.split("\n").join(" "));if(b.sentence_nl.checked)var a=a.split(". ").join(". \n\n"),a=a.split("\u2022 ").join("\n\n\u2022 "),a=a.replace(/p\. \n\n\d/g,function(a){return a.split("\n").join("")}),c=function(a){return a.split("\n").join("")},a=a.replace(/e\.g\. \n\n[^A-Z]/g,c),a=a.replace(/i\.e\. \n\n[^A-Z]/g,c),a=a.replace(/et al\. \n\n[^A-Z]/g,c),a=a.replace(/etc\. \n\n[^A-Z]/g,c),a=a.split("\u3002").join("\u3002 \n\n"),a=a.split('." ').join('." \n\n'),a=a.split('." \n\n(').join('." ('),a=a.split("\u3002\u300d ").join("\u3002\u300d \n\n"),
a=a.split(".' ").join(".' \n\n"),a=a.split("; ").join("; \n\n"),a=a.replace(/\d; \n\n/g,function(a){return a.split("\n").join("")}),a=a.split("\uff1b ").join("\uff1b \n\n"),a=_googleTransUtils.str_replace("\uff1b","\uff1b\n\n",a),a=_googleTransUtils.str_replace("\uff08 "," (",a),a=_googleTransUtils.str_replace("  ( "," (",a),a=_googleTransUtils.str_replace(" \uff09",") ",a),a=_googleTransUtils.str_replace(")  ",") ",a),a=a.split("\n ").join("\n"),a=a.replace(/[0-9]+\. \n\n[A-Z]/g,function(a){return"\n\n"+
a.split("\n").join("")});b.trim_citation.checked&&(a=a.replace(/\n\d+$/g,""),a=a.replace(/\n\d+ /g,"\n"));for(;-1<a.indexOf("  ");)a=a.split("  ").join(" ");for(;-1<a.indexOf("\n ");)a=a.split("\n ").join("\n");for(;-1<a.indexOf(". \n\n.");)a=a.split(". \n\n.").join("..");for(;-1<a.indexOf("\n\n\n\n");)a=a.split("\n\n\n\n").join("\n\n");a=a.replace(/[A-Z]\. \n\n/g,function(a){return a.split("\n").join("")});a=$.trim(a);if("submit_authors"===$(b).attr("submit_type")){-1<a.indexOf(" (")&&(a=a.substr(0,
a.indexOf(" (")).trim());var a=a.split(" and ").join(", "),d=a.split(","),c=[];console.log(d);var e=2;1===d.length%2&&(e=1);for(var g=0,w=d.length;g<w;g+=e){var f=d[g];2===e&&(f=f+", "+d[g+1]);var f=f.split("&").join(""),n=f.indexOf(", ");if(-1<n)var x=f.substr(0,n).trim(),y=f.slice(n+1,f.length).trim(),f=x+"\t"+y;c.push(f)}a=c.join("\n")}b.trim_citation.checked&&(a=a.replace(/\[.*?\]/g,""),a=a.replace(/\(.*?\)/g,""),a=a.replace(/\{.*?\}/g,""));var d=a,a=encodeURIComponent(a),t="https://translate.google.com.tw/#"+
b.source_lang.value+"/"+b.target_lang.value+"/"+a,u=b.output_style.value;if(b.test_output.checked){var z=$(".google_trans_20140526 .test-output").show(),k=$("<div class='test-div panel panel-success'></div>").prependTo(z),p=new Date,l=p.getHours(),h=p.getMinutes(),A=p.getSeconds(),a=d,a=_googleTransUtils.str_replace("\n"," ",a);$("<div class='animated panel-heading togglable'></div>").html('<span class="glyphicon glyphicon-chevron-up" style="float:right"></span><span class="glyphicon glyphicon-chevron-down" style="float:right"></span><div class=\'heading-text\'><strong>'+
l+":"+h+":"+A+"</strong> "+a+"</div> ").click(function(){_googleTransUtils.toggle_panel(this)}).appendTo(k);_googleTransUtils.toggle_panel($(".google_trans_20140526 .input-div .panel-heading.togglable"));for(var q=$('<div style="display: inline-block; text-align:center"></div>'),r=$('<select class="form-control"></select>'),l=[["zh-TW","\u6b63\u9ad4\u4e2d\u6587"],["zh-CN","\u7b80\u4f53\u4e2d\u6587"],["ja","\u65e5\u672c\u8a9e"]],h=0;h<l.length;h++)r.append('<option value="'+l[h][0]+'">'+l[h][1]+"</option>");
r.attr("target_lang",b.target_lang.value).val(b.target_lang.value).change(function(){var a=$(this).parents(".test-div").find("textarea.source").val();$(this).parents(".test-div").find("textarea.note").addClass("wait-trans");var b=$("#transTempIframe")[0],b=b.contentWindow?b.contentWindow:b.contentDocument.defaultView,d=$(b.document.body);d.find("#source").html(a);d.find("#originalSource").val(a);b.setGoogleTransCookie(this.value);b.googleTranslateElementInit()}).appendTo(q);"submit_authors"!==$(b).attr("submit_type")&&
$('<button type="button" class="btn btn-success btn-block"></button>').html("\u8907\u88fd").click(function(){""===document.cookie&&(document.cookie="googtrans=/en/zh-TW");var a=[];$(this).parents(".test-div:first").find("textarea").each(function(b,d){a.push(d.value)});a=a.join("\n\n").trim();if(""!==a){var b=$("#copyInput");0===b.length&&(b=$('<textarea id="copyInput" style="position:absolute; top: -999px"></textarea>').appendTo("body"));b.val(a);b.eq(0).select();document.execCommand("copy")}}).appendTo(q);
var m=$("<textarea class='animated source panel-body'></textarea>").val(d).click(function(){this.select()}).appendTo(k),B=$("<textarea class='animated source panel-body note loading'></textarea>").click(function(){this.select()}).appendTo(k);"submit_authors"===$(b).attr("submit_type")&&k.addClass("submit_authors");q.appendTo(k);var C=function(){$(".input-div .panel-body").slideUp()};$(function(){m.autosize();B.autosize();m.focus();m.click();m.click(C);$(".google-trans-title").hide()});b.window_open_output.checked&&
setTimeout(function(){return r.change()},500)}else if("blank"===u)window.open(t,"_blank");else if("iframe"===u){var D=b.subject.value,E=(new Date).getTime();_googleTransUtils.create_iframe(t,E+" "+D).prependTo(".google_trans_20140526 .output")}}catch(v){console.log(v)}$(b.source).val("");return!1};
$(function(){$("#submitToGoogleTransForm").submit(function(b){return submitToGoogleTrans(this,b)});$("#submitToGoogleTransForm :submit").click(function(){$("#submitToGoogleTransForm").attr("submit_type",this.name)})});
var _googleTransUtils={str_replace:function(b,a,c,d){return c.split(b).join(a)},trim_nl:function(b){return this.str_replace("\n","",b)},trim_nl_dash:function(b){return this.str_replace("-\n","",b)},toggle_panel:function(b,a){b=$(b);var c=b.nextAll();void 0===a&&(a=0<c.filter(":visible").length);a?c.slideUp(function(){b.addClass("heading_hidden")}):c.slideDown(function(){b.removeClass("heading_hidden")})},create_iframe:function(b,a){var c=$("<div></div>").addClass("panel panel-success"),d=$("<div></div>").addClass("panel-heading togglable").appendTo(c).click(function(){_googleTransUtils.toggle_panel(this)});
$("<div></div>").addClass("panel-title").html(a).appendTo(d);d=$("<div></div>").addClass("panel-body").appendTo(c);$('<iframe src="'+b+'&output=embed" class="iframe" />').appendTo(d);return c}};
$(function(){var b=$(".input-textarea").focus(),a=function(){var a=window.innerHeight,a=a-300;30>a&&(a=30);b.height(a)};a();$(window).resize(function(){a()});b.keydown(function(a){a.ctrlKey&&13===a.keyCode?$(".google_trans_20140526 form .submit_trans").click():a.altKey&&13===a.keyCode&&$(".google_trans_20140526 form .submit_authors").click()});var c;$(window).blur(function(){!0!==DEBUG&&(c=setTimeout(function(){var a=$(".input-div .panel-heading.togglable");_googleTransUtils.toggle_panel(a,!1);var a=
$('.input-div [name="source"]'),b=a.val();""!==b&&"\n"!==b.substr(b.length-1,1)&&a.val(b+"\n")},3E3))});$(window).focus(function(){clearTimeout(c)});$(".output-container .page-header").click(function(){$(".input-div .panel-heading.togglable").click()})});$(function(){!0===DEBUG&&$(".submit_trans").click()});
